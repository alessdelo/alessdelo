<p class="lead">A-Frame</p>
<hr class="my-4">

<% strMyVar = JSON.stringify(myVar, null, 4); %>
<%= strMyVar %>
<% var passEjs = strMyVar; %>

<script>
var getPassEjs = <%- passEjs %>;
</script>

<script type="text/javascript" src="/static/general.js"></script>

<script>

alert('xxx');

var theHtml = '<a-scene>' + 
		     '<a-entity camera look-controls>' + 		     
			  '<a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat">' + 			  			  				    				    				    
				     '<a-entity animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-entity>' + 				       
				     '<a-entity animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-entity>' + 					  
			  '</a-entity>' + 
    			'</a-entity>';
			
 /*
  theHtml +=     '<a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>' +
      '<a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow></a-sphere>' +
      '<a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder>' +
      '<a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" shadow></a-plane>' +
      '<a-sky color="#ECECEC"></a-sky>';
      
      	 */
      
      alert('yyy');
      alert(theHtml);
      

var activeProject = "";	
var activeScene = "";	
var availScenes =[];
var i = 0;

var dataArray = {
		 "0":{  "name": "project1",
          		"links":  { 	"1": {"to": "scene1", "pos":[0,2,5], "color": "blue"},
					"2": {"to": "scene2", "pos":[3,2,5], "color": "red"},
                      			"3": {"to": "scene3", "pos":[6,2,5],"color": "green"},
                      			"4": {"to": "scene4", "pos":[9,2,5],"color": "yellow"}
                    			}
       		 },
		 "1":{  "name": "project2",
          		"links":  { 	"1": {"to": "scene1", "pos":[0,2,5], "color": "blue"},
					"2": {"to": "scene2", "pos":[3,2,5], "color": "red"},
                      			"3": {"to": "scene3", "pos":[6,2,5],"color": "green"},
                      			"4": {"to": "scene4", "pos":[9,2,5],"color": "yellow"}
                    			}
        	},
        
		 "3":{  "name": "project3",
          		"links":  { 	"1": {"to": "scene1", "pos":[0,2,5], "color": "blue"},
					"2": {"to": "scene2", "pos":[3,2,5], "color": "red"},
                      			"3": {"to": "scene3", "pos":[6,2,5],"color": "green"},
                      			"4": {"to": "scene4", "pos":[9,2,5],"color": "yellow"}
                   			}
        
     		
        	}
      }; //end dataArray
      
      
        
        
  alert(dataArray);                  
printObject(dataArray); 
		




$( document ).ready(function() {

		printObject(dataArray); 
		
						

		for(var theKey in dataArray) { 
		
		
		
	                if(dataArray.hasOwnProperty(theKey)) { 
			
			if (activeProject == "") {
				activeProject = "project1";
			}
			
			
			if (activeScene == "") {
				activeScene = "scene1";
			}
			
			
			
			
			var theVal = dataArray[theKey];
			var theProj = theVal.name;
			
			
			if(theVal.name == activeProject) {
				var theLinks = theVal.links;
				printObject(theLinks); 
				availScenes[i] = theLinkVal.to;				
								
				for(var theLinkKey in theLinks) { 
					var visibility = false;
					
					var theLinkVal = dataArray[theLinkKey];
					alert('linkval');
					printObject(theLinkVal); 
					// alert('linkval: ' + theLinkVal.to);
					
					if(theLinkVal.to == activeScene) {
						visibility = true;
					}
					
				}
			
			}
			
			
			
				
			
			
			
			
			
			
			
			
				                      
 	               } // fine if 1  		   		       
		      
		    
		      
	       } // fine for 
	       
	     
	   theHtml += '</a-scene>';
	 
	 alert(theHtml);
 
  $("#contents").html(theHtml);       	       
                   
    
});

function setActiveScene(scene,scenes) {

}

</script>

  
<div id="contents"></div>


     <hr class="my-4">
  <h4>Inspired by...</h4>
  <a href="https://github.com/aframevr/aframe/issues/1023" target="_blank">A-Frame Switch scene</a>
    <br>
      <a href="https://aframe.io/docs/0.8.0/introduction/writing-a-component.html" target="_blank">A-Frame Writing a Component</a>
    <br>
